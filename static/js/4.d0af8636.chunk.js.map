{"version":3,"sources":["components/Login/LoginPage.module.css","components/Login/LoginPage.jsx"],"names":["module","exports","error","__webpack_require__","r","__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_LoginPage_module_css__WEBPACK_IMPORTED_MODULE_1__","_LoginPage_module_css__WEBPACK_IMPORTED_MODULE_1___default","redux_form__WEBPACK_IMPORTED_MODULE_2__","_general_FormsControl_FormsControl__WEBPACK_IMPORTED_MODULE_3__","_general_Validations_Validations__WEBPACK_IMPORTED_MODULE_4__","react_redux__WEBPACK_IMPORTED_MODULE_5__","_redux_auth_Reducer__WEBPACK_IMPORTED_MODULE_6__","react_router_dom__WEBPACK_IMPORTED_MODULE_7__","LoginReduxForm","reduxForm","form","_ref","handleSubmit","captchaUrl","a","createElement","onSubmit","createField","Input","required","type","src","className","classes","connect","state","isAuth","auth","loginThunk","props","to","formData","email","password","rememberMe","captcha"],"mappings":"6EACAA,EAAAC,QAAA,CAAkBC,MAAA,4DCDlBC,EAAAC,EAAAC,GAAA,IAAAC,EAAAH,EAAA,GAAAI,EAAAJ,EAAAK,EAAAF,GAAAG,EAAAN,EAAA,KAAAO,EAAAP,EAAAK,EAAAC,GAAAE,EAAAR,EAAA,IAAAS,EAAAT,EAAA,IAAAU,EAAAV,EAAA,IAAAW,EAAAX,EAAA,IAAAY,EAAAZ,EAAA,IAAAa,EAAAb,EAAA,GAgCMc,EAAiBC,YAAU,CAACC,KAAM,SAAjBD,CAtBL,SAAAE,GAAuC,IAArCC,EAAqCD,EAArCC,aAAcnB,EAAuBkB,EAAvBlB,MAAOoB,EAAgBF,EAAhBE,WAErC,OACIf,EAAAgB,EAAAC,cAAA,QAAMC,SAAUJ,GACXK,YAAY,QAAS,QAASC,IAAO,CAACC,MACtCF,YAAY,WAAY,WAAYC,IAAO,CAACC,KAAW,CAACC,KAAM,aAC9DH,YAAY,KAAM,aAAcC,IAAO,GAAI,CAACE,KAAM,YAC/C,eACHP,GAAcf,EAAAgB,EAAAC,cAAA,OAAKM,IAAKR,IACxBA,GAAeI,YAAY,oBAAqB,UAAWC,IAAO,CAACC,MACnE1B,GACGK,EAAAgB,EAAAC,cAAA,OAAKO,UAAWC,IAAQ9B,OACnBA,GAGTK,EAAAgB,EAAAC,cAAA,WACIjB,EAAAgB,EAAAC,cAAA,2BAiCDS,sBALS,SAACC,GAAD,MAAY,CAChCC,OAAQD,EAAME,KAAKD,OACnBb,WAAYY,EAAME,KAAKd,aAGa,CAACe,gBAA1BJ,CAxBD,SAACK,GAKX,OAAIA,EAAMH,OACC5B,EAAAgB,EAAAC,cAACR,EAAA,EAAD,CAAUuB,GAAI,aAGrBhC,EAAAgB,EAAAC,cAAA,WACIjB,EAAAgB,EAAAC,cAAA,WACIjB,EAAAgB,EAAAC,cAAA,OAAKM,IAAI,kFAEbvB,EAAAgB,EAAAC,cAAA,mBACAjB,EAAAgB,EAAAC,cAACP,EAAD,CAAgBQ,SAbP,SAACe,GACdF,EAAMD,WAAWG,EAASC,MAAOD,EAASE,SAAUF,EAASG,WAAYH,EAASI,UAY1CtB,WAAYgB,EAAMhB","file":"static/js/4.d0af8636.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"LoginPage_error__1hCQL\"};","import React from 'react';\nimport classes from './LoginPage.module.css'\nimport {reduxForm} from \"redux-form\";\nimport {createField, Input} from \"../general/FormsControl/FormsControl\";\nimport {required} from \"../general/Validations/Validations\";\nimport {connect} from \"react-redux\";\nimport {loginThunk} from \"../../redux/auth-Reducer\";\nimport {Navigate} from \"react-router-dom\";\n\n\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\n\n    return (\n        <form onSubmit={handleSubmit}>\n            {createField(\"email\", \"email\", Input, [required])}\n            {createField(\"password\", \"password\", Input, [required], {type: \"password\"})}\n            {createField(null, \"rememberMe\", Input, [], {type: \"checkbox\"},\n                \"remember me\")}\n            {captchaUrl && <img src={captchaUrl}/>}\n            {captchaUrl &&  createField(\"Symbol from image\", \"captcha\", Input, [required])}\n            {error &&\n                <div className={classes.error}>\n                    {error}\n                </div>\n            }\n            <div>\n                <button>Login</button>\n            </div>\n        </form>\n    )\n};\n\nconst LoginReduxForm = reduxForm({form: \"login\"})(LoginForm);\n\n\nconst Login = (props) => {\n    const onSubmit = (formData) => {\n        props.loginThunk(formData.email, formData.password, formData.rememberMe, formData.captcha);\n    }\n\n    if (props.isAuth) {\n        return <Navigate to={\"/profile\"}/>;\n    }\n    return (\n        <div>\n            <div>\n                <img src=\"https://funik.ru/wp-content/uploads/2018/11/a9e0d86d036b40f1ecdc-700x394.jpg\"/>\n            </div>\n            <h1>Login</h1>\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\n        </div>\n    )\n};\n\nconst mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth,\n    captchaUrl: state.auth.captchaUrl\n});\n\nexport default connect(mapStateToProps, {loginThunk})(Login);"],"sourceRoot":""}